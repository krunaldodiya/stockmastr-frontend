Setting Up Linking
---------------------
Linking allows us to handle incoming requests. By using a special URL Scheme 
we are able to redirect users from the backend to the mobile app once they were authenticated.

iOS
-------------------------------------
Open ios/<ProjectName>.xcodeproj file.
---------------------------

1) Open Edit AppDelegate.m file.
---------------------
#import "AppDelegate.h"

#import <React/RCTBundleURLProvider.h>
#import <React/RCTRootView.h>
#import <React/RCTLinkingManager.h> // add this line

@implementation AppDelegate


// add this
- (BOOL)application:(UIApplication *)application
            openURL:(NSURL *)url
            options:(NSDictionary<UIApplicationOpenURLOptionsKey,id> *)options
{
  return [RCTLinkingManager application:application openURL:url options:options];
}

- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity
 restorationHandler:(void (^)(NSArray * _Nullable))restorationHandler
{
  return [RCTLinkingManager application:application
                   continueUserActivity:userActivity
                     restorationHandler:restorationHandler];
}
// add this

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  NSURL *jsCodeLocation;

  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@"index" fallbackResource:nil];

  RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL:jsCodeLocation
                                                      moduleName:@"socialstock"
                                               initialProperties:nil
                                                   launchOptions:launchOptions];
  rootView.backgroundColor = [[UIColor alloc] initWithRed:1.0f green:1.0f blue:1.0f alpha:1];

  self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];
  UIViewController *rootViewController = [UIViewController new];
  rootViewController.view = rootView;
  self.window.rootViewController = rootViewController;
  [self.window makeKeyAndVisible];
  return YES;
}

@end


2) Click on <ProjectName> on the top of the left sidebar and then click Info tab on the right.
Scroll down to URL Types section and add a new URL type with <ProjectName> URL Schema.
--------------------------------
google
--------------------------------
identifier (com.socialstock)
url schemes (com.socialstock)

--------------------------------
facebook
--------------------------------
identifier (com.socialstock)
url schemes (fb1941481456155598)


or using info.plist
--------------------------------------
add this line
<key>CFBundleSignature</key>
<string>????</string>
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleTypeRole</key>
        <string>Editor</string>
        <key>CFBundleURLName</key>
        <string>com.socialstock</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>com.socialstock</string>
        </array>
    </dict>
    <dict>
        <key>CFBundleTypeRole</key>
        <string>Editor</string>
        <key>CFBundleURLName</key>
        <string>com.socialstock</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>fb1941481456155598</string>
        </array>
    </dict>
</array>


Android
-------------
On Android youâ€™ll need to edit android/app/src/main/AndroidManifest.xml file to add an intent-filter to handle incoming requests.

1) Add this code:

<activity
    android:name=".MainActivity"
    android:label="@string/app_name"
    android:configChanges="keyboard|keyboardHidden|orientation|screenSize"
    android:windowSoftInputMode="adjustResize" 
    android:launchMode="singleTask">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="com.socialstock" />
    </intent-filter>
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="fb1941481456155598" />
    </intent-filter>
</activity>
